{% extends "base.html" %}

{% block content %}


<h1>Add contract</h1>
<form action="" method="post" novalidate>
    {{ form.hidden_tag() }}
    <div id="first-form">
        <p>
            {{ form.name.label }}<br>
            {{ form.name }}<br>
            {% for error in form.name.errors %}
            <span style="color: red;">[{{ name }}]</span>
            {% endfor %}
        </p>
        <p>
            {{ form.category.label }}<br>
            {{ form.category }}<br>
            {% for error in form.category.errors %}
            <span style="color: red;">[{{ category }}]</span>
            {% endfor %}
        </p>
    </div>
    <div id="second-form" style="display:none">
        <p>
            {{ form.entreprise.label(id="entreprises-label") }}<br>
            {{ form.entreprise }}<br>
            {% for error in form.entreprise.errors %}
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </p>
    </div>
    <div id="final-form" style="display:none">
        <p>
            {{ form.identifiant.label }}<br>
            {{ form.identifiant }}<br>
            {% for error in form.identifiant.errors %}
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </p>
        <p>
            {{ form.password.label }}<br>
            {{ form.password }}<br>
            {% for error in form.password.errors %}
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </p>
        <p>
            {{ form.num_contract.label }}<br>
            {{ form.num_contract }}<br>
            {% for error in form.num_contract.errors %}
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </p>
        <p>
            {{ form.mens.label }}<br>
            {{ form.mens }}<span>â‚¬</span><br>
            {% for error in form.mens.errors %}
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </p>
        <p>
            {{ form.date.label }}<br>
            {{ form.date }}<br>
            {% for error in form.date.errors %}
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </p>
        <p>
            {{ form.more_infos.label }}<br>
            {{ form.more_infos }}<br>
            {% for error in form.more_infos.errors %}
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </p>
        <p>{{ form.submit() }}</p>
    </div>
</form>

<script>
    const load_entreprises_by_category_url = {{ url_for('controllers.contract.load_entreprises_by_category') | tojson }};
</script>

<script src="{{ url_for('static', filename='js/utils.js') }}"></script>
<script src="{{ url_for('static', filename='js/contract.js') }}"></script>
{% endblock %}